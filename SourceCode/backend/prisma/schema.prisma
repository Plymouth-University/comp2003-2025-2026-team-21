generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Student {
  id                   String   @id @default(uuid())
  email                String   @unique
  username             String   @unique
  password             String
  name                 String?
  createdAt            DateTime @default(now())
  profileImage         Bytes?
  profileImageMimeType String?
  posts                Posts[]
}

model Organisation {
  id                   String   @id @default(uuid())
  email                String   @unique
  password             String
  name                 String
  location             String
  createdAt            DateTime @default(now())
  evidenceImage        Bytes?
  evidenceImageMimeType String?
  events               Event[]
}

model Event {
  id                 String   @id @default(uuid())
  title              String
  description        String
  date               DateTime
  location           String
  price              String
  createdAt          DateTime @default(now())
  organiserId        String
  eventImage         Bytes?
  eventImageMimeType String?
  organiser          Organisation @relation(fields: [organiserId], references: [id])
}

model Posts {
  id            String   @id @default(uuid())
  caption       String
  image         Bytes
  imageMimeType String
  createdAt     DateTime @default(now())
  likes         Int      @default(0)
  authorId      String
  author        Student  @relation(fields: [authorId], references: [id])
}
